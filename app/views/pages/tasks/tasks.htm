<div class="container-fluid">
  <div class="row mt-3">
      <div class="col-lg-3 col-md-3">
          <div class="list-group small">
              <div class="list-group-item active">Tasks Panel</div>
              <a href="#" data-title="Create Task" data-submit="create" class="task-modal list-group-item" data-bs-toggle="modal" data-bs-target="#add_task">Add New Task</a>
              <a href="/tasks" class="task-modal list-group-item">View all Tasks</a>
          </div>
      </div>
      <div class="col-lg-9 col-md-9">
        <form method="GET" action="/tasks">
          <div class="input-group mb-3">
            <input type="text" name="search-item" class="form-control" placeholder="Filter by Project title" aria-label="Search" aria-describedby="button-search">
            <button class="btn btn-outline-secondary" type="submit" name="search" value="search" id="button-search">Search</button>
          </div>
        </form>
        <table class="table table-striped table-hover bg-light small">
          <thead>
            <tr class="table-dark">
                <th>Project Title</th>
                <th>Task Title</th>
                <th>Details</th>
                <th>Edit</th>
                <th>Complete</th>
            </tr>
          </thead>
          <tbody>
            <repeat group="{{ @tasks }}" key="{{ @key }}" value="{{ @val }}">
              <tr>
                  <td>{{ @val.p_title }}</td>
                  <td>{{ @val.title }}</td>
                  <td><a href="" data-id="{{ @val.hid }}" data-title="Task Detail" data-submit="detail" data-bs-toggle="modal" data-bs-target="#task_details1" class="task-modal btn btn-sm btn-block btn-info">Details</a></td>
                  <td><a href="" data-id="{{ @val.hid }}" data-title="Update Task" data-submit="update" data-bs-toggle="modal" data-bs-target="#task_edit_details1" class="task-modal btn btn-sm btn-block btn-warning">Edit</a></td>
                  <td><a href="" data-id="{{ @val.hid }}" data-title="Delete Task" data-submit="delete" data-bs-toggle="modal" class="task-modal btn btn-sm btn-block btn-danger">Finish</a></td>
              </tr>
            </repeat>
          </tbody>
        </table>
        <nav aria-label="...">
          <ul class="pagination">
            <check if="{{ @page > 1}}">
              <true>
              <li class="page-item">
                <a class="page-link" href="/tasks?page={{ @previous }}">Previous</a>
              </li>
              </true>
              <false>
              <li class="page-item disabled">
                <a class="page-link" href="#">Previous</a>
              </li>
              </false>
            </check>
            <repeat group="{{ @pages }}" key="{{ @key }}" value="{{ @val }}">
              <check if="{{ @page == @val}}">
                <true>
                  <li id={{ @val }} class="page-item active"><a class="page-link" href="/tasks?page={{ @val }}">{{ @val }}</a></li>
                </true>
                <false>
                  <li id={{ @val }} class="page-item"><a class="page-link" href="/tasks?page={{ @val }}">{{ @val }}</a></li>
                </false>
              </check>
            </repeat>
            <check if="{{ @totalpages > @page}}">
              <true>
                <li class="page-item">
                  <a class="page-link" href="/tasks?page={{ @next }}">Next</a>
                </li>
              </true>
              <false>
                <li class="page-item disabled">
                  <a class="page-link" href="#">Next</a>
                </li>
              </false>
            </check>
          </ul>
        </nav>
    </div>
  </div>
</div>
